"use strict";window.onload=function(){({getStorage:function(){return JSON.parse(window.localStorage.getItem("list")||"[]")},setStorage:function(t){window.localStorage.setItem("list",JSON.stringify(t))},render:function(t,e,n){var d=document.getElementById(e);if(t.length<1)d.innerHTML="";else{for(var i="",a=0;a<t.length;a++)i+="<tr>\n                <td id='check'><input type=\"checkbox\"></td>\n                <td id='imgTd'>\n                    <img src=\"".concat(t[a].img,"\"/>\n                </td>\t\t\t\t\n                <td id='name'>").concat(t[a].name,"</td>\n                <td id='size'>").concat(t[a].size,"</td>\n                <td id='price'>").concat(t[a].price,'</td>\n                <td id="num">\n                <span class="cut"></span>\n                <input type="text" value="').concat(t[a].num,'" class="nums">\n                <span class="add"></span>\n                </td>\n                <td id=\'yh\'>-</td>\n                <td id=\'xj\'>').concat(parseInt(t[a].price)*parseInt(t[a].num)+".00","</td>\n                <td id='delete'>\n                    <span class=\"delete btn-info btn\">删除</span>\n                </td>\n            </tr>");d.innerHTML=i,n&&n()}},addDeleteEvent:function(){for(var e=this,t=document.querySelectorAll(".delete"),n=0;n<t.length;n++)t[n].onclick=function(){var t=this.parentNode.parentNode.children[2].innerHTML;e.deleteProduct(t)}},addNumChangeEvent:function(){for(var e=this,t=document.getElementsByClassName("cut"),n=document.getElementsByClassName("add"),d=0;d<n.length;d++)n[d].onclick=function(){var t=this.parentNode.parentNode.children[2].innerHTML;e.addNum(t)},t[d].onclick=function(){var t=this.parentNode.parentNode.children[2].innerHTML;e.cutNum(t)}},deleteProduct:function(t){for(var e=this,n=this.getStorage(),d=0;d<n.length;d++)if(n[d].name==t)return n.splice(d,1),this.setStorage(n),void this.render(n,"car",function(){e.addDeleteEvent(),e.addNumChangeEvent()})},addNum:function(t){for(var e=this,n=this.getStorage(),d=0;d<n.length;d++)if(n[d].name==t)return n[d].num=n[d].num+1,console.log(n[d].num),this.setStorage(n),void this.render(n,"car",function(){e.addDeleteEvent(),e.addNumChangeEvent()})},cutNum:function(t){for(var e=this,n=this.getStorage(),d=0;d<n.length;d++)if(n[d].name==t)return n[d].num=n[d].num-1,n[d].num<=0?void e.deleteProduct(t):(this.setStorage(n),void this.render(n,"car",function(){e.addDeleteEvent(),e.addNumChangeEvent()}))},init:function(){var t=this,e=this.getStorage();this.render(e,"car",function(){t.addDeleteEvent(),t.addNumChangeEvent()})}}).init()};