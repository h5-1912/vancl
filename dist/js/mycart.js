"use strict";window.onload=function(){var a=this.document.getElementById("shop-more"),o=this.document.getElementById("get-car"),c=this.document.getElementById("shoppingprice"),s=0,u=this.document.getElementById("allPrice");this.document.getElementById("xj");({getStorage:function(){return JSON.parse(window.localStorage.getItem("list")||"[]")},setStorage:function(t){window.localStorage.setItem("list",JSON.stringify(t))},render:function(t,e,n){var i=document.getElementById(e);if(t.length<1)return i.innerHTML="",a.style="display:block",o.style="height:200px",c.style="top:300px",s=0,void(u.innerHTML="￥"+s);a.style="display:none";for(var d="",r=0;r<t.length;r++)d+="<tr>\n                <td id='check'><input type=\"checkbox\"></td>\n                <td id='imgTd'>\n                    <img src=\"".concat(t[r].img,"\"/>\n                </td>\t\t\t\t\n                <td id='name'>").concat(t[r].name,"</td>\n                <td id='size'>").concat(t[r].size,"</td>\n                <td id='price'>").concat(t[r].price,'</td>\n                <td id="num">\n                <span class="cut"></span>\n                <input type="text" value="').concat(t[r].num,'" class="nums">\n                <span class="add"></span>\n                </td>\n                <td id=\'yh\'>-</td>\n                <td id=\'xj\'>').concat(parseInt(t[r].price)*parseInt(t[r].num)+".00","</td>\n                <td id='delete'>\n                    <span class=\"delete btn-info btn\">删除</span>\n                </td>\n            </tr>"),s+=parseInt(t[r].price)*parseInt(t[r].num);i.innerHTML=d,u.innerHTML="￥"+s,n&&n()},addDeleteEvent:function(){for(var e=this,t=document.querySelectorAll(".delete"),n=0;n<t.length;n++)t[n].onclick=function(){var t=this.parentNode.parentNode.children[3].innerHTML;e.deleteProduct(t)}},addNumChangeEvent:function(){for(var e=this,t=document.getElementsByClassName("cut"),n=document.getElementsByClassName("add"),i=0;i<n.length;i++)n[i].onclick=function(){var t=this.parentNode.parentNode.children[3].innerHTML;e.addNum(t)},t[i].onclick=function(){var t=this.parentNode.parentNode.children[3].innerHTML;e.cutNum(t)}},deleteProduct:function(t){for(var e=this,n=this.getStorage(),i=0;i<n.length;i++)if(n[i].size==t)return n.splice(i,1),this.setStorage(n),s=0,void this.render(n,"car",function(){e.addDeleteEvent(),e.addNumChangeEvent()})},addNum:function(t){for(var e=this,n=this.getStorage(),i=0;i<n.length;i++)if(n[i].size==t)return n[i].num=n[i].num+1,this.setStorage(n),s=0,void this.render(n,"car",function(){e.addDeleteEvent(),e.addNumChangeEvent()})},cutNum:function(t){s=0;for(var e=this,n=this.getStorage(),i=0;i<n.length;i++)if(n[i].size==t)return n[i].num=n[i].num-1,n[i].num<=0?void e.deleteProduct(t):(this.setStorage(n),void this.render(n,"car",function(){e.addDeleteEvent(),e.addNumChangeEvent()}))},init:function(){var t=this,e=this.getStorage();this.render(e,"car",function(){t.addDeleteEvent(),t.addNumChangeEvent()})}}).init()};